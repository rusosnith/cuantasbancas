<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¿Cuántas bancas?</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="styles_viz.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script type="module" src="script.js"></script>
    <script type="module" src="script_viz.js"></script>
</head>
<body>
    <div class="container">
        <h1>¿Cuántas bancas?</h1>
        <p>Simulador de distribución de bancas de la legislatura porteña 2025</p>
        
        

        <!-- Modal para el grafico apilado -->
        <div class="modal" id="bancas-visualization-container">
            <div class="modal-header">
                <h3>Bancas por partido</h3>
                <div class="referencia-bancas">
                    <span class="referencia-bancas-label">Banca:</span>
                    <span>
                        <span class="banca">no renueva</span>
                    </span>
                    <span>
                        <span class="banca renueva">renueva</span>
                    </span>
                </div>
            </div>
            <div class="containerViz" id="chart-container"></div>
            <div class="referencia-container">
                <div class="referencia-item">
                    <div style="background-color: #c367b3;"></div>
                    <span>Izquierda</span>
                </div>
                <div class="referencia-item">
                    <div style="background-color: #34aad7;"></div>
                    <span>Peronismo</span>
                </div>
                <div class="referencia-item">
                    <div style="background-color: #efb118;"></div>
                    <span>Ex oficialistas</span>
                </div>
                <div class="referencia-item">
                    <div style="background-color: #ff791d;"></div>
                    <span>Vecinal</span>
                </div>
                <div class="referencia-item">
                    <div style="background-color: #cb1f00;"></div>
                    <span>Pro</span>
                </div>
                <div class="referencia-item">
                    <div style="background-color: #888;"></div>
                    <span>Libertarios</span>
                </div>
            </div>
        </div>

        
        <!-- Modal para los resultados de bancas -->
        <div class="modal" id="bancas-modal">
            <div class="modal-header">
                <h3>Bancas <b>NUEVAS</b> asignadas por partido</h3>
            </div>
            <div class="modal-content" id="bancas-resultado"></div>
        </div>

        <!-- Modal para los sliders -->
        <div class="modal" id="sliders-modal">
            <div class="modal-header">
                <h3>Ajustá los porcentajes</h3>
            </div>
            <div class="modal-content" id="sliders"></div>
        </div>
    </div>

    <!-- Footer con configuración y disclaimer -->
    <footer>
        <div class="config-container">
            <div class="config-item">
                <label for="totalBancas">Total de bancas:</label>
                <input type="number" id="totalBancas" value="30" min="1" max="100">
            </div>
           
            <button id="resetButton">Restablecer valores</button>
            <div class="config-item">
                <label for="umbralPorcentual">Umbral  (%):</label>
                <input type="number" id="umbralPorcentual" value="0" min="0" max="10" step="0.1">
            </div>
        </div>

        <div class="share-buttons">
            <a href="https://twitter.com/intent/tweet?text=Descubre%20cuántas%20bancas%20puede%20obtener%20cada%20partido%20en%20https://www.visualizando.ar" 
               target="_blank" class="share-button twitter">
                <i class="fa-brands fa-twitter"></i> Compartir en Twitter
            </a>
            <a href="https://api.whatsapp.com/send?text=Descubre%20cuántas%20bancas%20puede%20obtener%20cada%20partido%20en%20https://www.visualizando.ar" 
               target="_blank" class="share-button whatsapp">
                <i class="fa-brands fa-whatsapp"></i> Compartir en WhatsApp
            </a>
            <button class="share-button copy" onclick="copiarAlPortapapeles()">
                <i class="fa-solid fa-copy"></i> Copiar enlace
            </button>
        </div>

        <div class="disclaimer">
            <p>Datos tomados de encuestas publicadas en diversos medios.</p>
            <p>Los resultados son aproximados y pueden no reflejar la realidad.</p>
            <p>El sistema D'Hondt puede producir resultados diferentes según el número total de votos.</p>
        </div>

        <div class="credits">
            <p>Creado por Andres Snitcofsky</p>
            <a href="https://www.visualizando.ar" target="_blank"><i class="fa-solid fa-globe"></i> visualizando.ar</a>
            <a href="https://twitter.com/rusosnith" target="_blank"><i class="fa-brands fa-twitter"></i> @rusosnith</a>
            <a href="https://github.com/rusosnith/cuantasbancas" target="_blank"><i class="fa-brands fa-github"></i> GitHub</a>
        </div>
        <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3YPHF99NYB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3YPHF99NYB');
</script>

    </footer>
</body>
</html>
